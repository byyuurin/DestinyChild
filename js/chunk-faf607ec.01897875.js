(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-faf607ec"],{"11e9":function(t,e,n){var r=n("52a7"),i=n("4630"),o=n("6821"),a=n("6a99"),s=n("69a8"),c=n("c69a"),l=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?l:function(t,e){if(t=o(t),e=a(e,!0),c)try{return l(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},"15b4":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"library"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.openFilter,expression:"openFilter"}],staticClass:"overlay"},[r("div",{staticClass:"filter"},[r("div",{staticClass:"filter-header"}),r("div",{staticClass:"filter-content"},[r("a",{staticClass:"button button-close",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.openFilter=!1}}},[t._v("Close")]),r("div",{staticClass:"option-group"},[r("div",{staticClass:"option-group-title"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.showUnknown,expression:"showUnknown"}],staticClass:"option-checkbox",attrs:{id:"chk-unknown",type:"checkbox"},domProps:{checked:Array.isArray(t.showUnknown)?t._i(t.showUnknown,null)>-1:t.showUnknown},on:{change:function(e){var n=t.showUnknown,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&(t.showUnknown=n.concat([o])):a>-1&&(t.showUnknown=n.slice(0,a).concat(n.slice(a+1)))}else t.showUnknown=i}}}),r("label",{staticClass:"showUnknown",attrs:{for:"chk-unknown"}}),r("label",{attrs:{for:"chk-unknown"}},[t._v("顯示無資料的角色")])])]),r("div",{staticClass:"option-group"},[r("div",{staticClass:"option-group-title"},[t._v("名稱")]),r("div",{staticClass:"option-group-content"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.name,expression:"filter.name"}],staticClass:"option-text",attrs:{type:"text",placeholder:"…想找誰?"},domProps:{value:t.filter.name},on:{input:[function(e){e.target.composing||t.$set(t.filter,"name",e.target.value)},function(e){t.filterHandler("name",e.target)}]}})])]),r("div",{staticClass:"option-group"},[r("div",{staticClass:"option-group-title"},[t._v("屬性")]),r("div",{staticClass:"option-group-content"},[t._l(t.types,function(e){return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.type[e],expression:"filter.type[type]"}],staticClass:"option-checkbox",attrs:{id:"chk-type-"+e,type:"checkbox"},domProps:{checked:Array.isArray(t.filter.type[e])?t._i(t.filter.type[e],null)>-1:t.filter.type[e]},on:{input:function(n){t.filterHandler("type."+e,n.target)},change:function(n){var r=t.filter.type[e],i=n.target,o=!!i.checked;if(Array.isArray(r)){var a=null,s=t._i(r,a);i.checked?s<0&&t.$set(t.filter.type,e,r.concat([a])):s>-1&&t.$set(t.filter.type,e,r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.filter.type,e,o)}}}),r("label",{class:"type-"+e,attrs:{for:"chk-type-"+e}})]})],2)]),r("div",{staticClass:"option-group"},[r("div",{staticClass:"option-group-title"},[t._v("類型")]),r("div",{staticClass:"option-group-content"},[t._l(t.professions,function(e){return[r("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.profession[e],expression:"filter.profession[profession]"}],staticClass:"option-checkbox",attrs:{id:"chk-profession-"+e,type:"checkbox"},domProps:{checked:Array.isArray(t.filter.profession[e])?t._i(t.filter.profession[e],null)>-1:t.filter.profession[e]},on:{input:function(n){t.filterHandler("profession."+e,n.target)},change:function(n){var r=t.filter.profession[e],i=n.target,o=!!i.checked;if(Array.isArray(r)){var a=null,s=t._i(r,a);i.checked?s<0&&t.$set(t.filter.profession,e,r.concat([a])):s>-1&&t.$set(t.filter.profession,e,r.slice(0,s).concat(r.slice(s+1)))}else t.$set(t.filter.profession,e,o)}}}),r("label",{class:"profession-"+e,attrs:{for:"chk-profession-"+e}})]})],2)])])])]),t.character?r("div",{staticClass:"overlay"},[r("skill-information",{attrs:{it:t.character}},[r("a",{staticClass:"button button-close",attrs:{href:"#close"},on:{click:function(e){return e.preventDefault(),t.closeInformationHandler(e)}}},[t._v("x")])])],1):t._e(),r("div",{class:["library-header",{blur:t.character||t.openFilter}]}),r("div",{class:["container",{blur:t.character||t.openFilter}]},[r("div",{staticClass:"group"},[r("label",{staticClass:"button button-filter",on:{click:function(e){t.openFilter=!0}}},[r("img",{attrs:{src:n("85c9"),alt:"filter setup"}})])]),t._l(t.characterGroups,function(e,n){return r("div",{class:["group",n]},[r("div",{staticClass:"group-header"},[r("character-star",{attrs:{stars:t.getGroupStars(n),counts:t.getCollectionCounts(e),total:e.length}})],1),r("div",{staticClass:"group-content"},t._l(e,function(e){return t.showUnknown||e.id?r("Portrait",{key:e.avatar,attrs:{it:e},nativeOn:{click:function(n){t.informationHandler(e.avatar)}}},[r("div",{staticClass:"ch"},[t._v(t._s(e.name_CH))]),r("div",{staticClass:"jp"},[t._v("("+t._s(e.name_JP)+")")])]):t._e()}),1)])})],2)])},i=[],o=(n("a481"),n("6b54"),n("28a5"),n("456d"),n("ac6a"),n("7f7f"),n("cadf"),n("551c"),n("097d"),n("b2ca")),a=n("d049"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"character-star"},[t._l(t.stars,function(t){return n("span",{staticClass:"star"})}),n("div",{staticClass:"collection-info"},[n("span",{staticClass:"counts"},[t._v(t._s(t.counts))]),n("span",{staticClass:"total"},[t._v(t._s(t.total))])])],2)},c=[],l=(n("c5f6"),{name:"character-star",props:{stars:{type:Number,required:!0,default:1},counts:{type:Number,required:!0,default:0},total:{type:Number,required:!0,default:0}}}),f=l,u=(n("b978"),n("2877")),p=Object(u["a"])(f,s,c,!1,null,"43ae5cf7",null);p.options.__file="index.vue";var h=p.exports,d={name:"library",data:function(){return{character:null,openFilter:!1,showUnknown:!1,groupSize:{"child-5":108,"child-4":64,"child-3":97,"child-2":53,"child-1":44},types:["fire","water","forest","light","dark"],professions:["attack","protect","support","confusion","medic"],filter:{}}},computed:{filteredCharacters:function(){var t=this;return this.$store.state.characters.filter(function(e){var n=t.filter,r=n.name,i=n.type,o=n.profession,a=!0;return r&&(a=e.nickname.indexOf(r)>=0,a=a||e.name_CH.indexOf(r)>=0),e.type&&(a=a&&i[e.type]),e.profession&&(a=a&&o[e.profession]),a})},characters:function(){return this.filteredCharacters},characterMap:function(){var t={};return this.characters.forEach(function(e){t[e.avatar]=e}),t},characterGroups:function(){var t=this,e={},n=["water","fire","forest","light","dark","fire"];return Object.keys(this.groupSize).forEach(function(r){e[r]||(e[r]=[]);for(var i=1;i<=t.groupSize[r];i++){var o=r+"-"+t.numberToString(i,3),a=t.characterMap[o]||{avatar:o};i<=6?(6===i?(a.name_CH="進化素材",a.name_JP="オロラミム"):(a.name_CH="強化素材",a.name_JP="アオラミム"),a.type=n[i-1],a.profession=""):a.type||(a.name_CH="無資料",a.name_JP="Unknown"),e[r].push(a)}e[r]=e[r].reverse()}),e}},watch:{openFilter:function(){this.lockWindow(this.openFilter)}},created:function(){var t=this;this.$store.dispatch("CHARACTER_READ"),this.types.forEach(function(e){t.filter.type={},t.types.forEach(function(e){t.filter.type[e]=!0}),t.filter.profession={},t.professions.forEach(function(e){t.filter.profession[e]=!0}),t.filter.name=""})},methods:{lockWindow:function(t){t?document.body.classList.add("locked"):document.body.classList.remove("locked")},numberToString:function(t,e){for(var n=t.toString().split(""),r=n.length;r<e;r++)n.unshift("0");return n.join("")},getGroupStars:function(t){var e=1;return/child-\d/.test(t)&&(e=1*t.replace(/child-/,"")),e},getCollectionCounts:function(t){var e=this,n=0;return t.forEach(function(t){e.showUnknown&&t.type?n++:!e.showUnknown&&t.id&&n++}),n},filterClone:function(){var t=this,e=this.filter,n=e.name,r=e.type,i=e.profession,o={};return o.name=n,this.types.forEach(function(e){o.type={},t.types.forEach(function(t){o.type[t]=r[t]}),o.profession={},t.professions.forEach(function(t){o.profession[t]=i[t]})}),o},filterHandler:function(t,e){var n=this.filterClone();if("name"===t)n[t]=e.value;else{var r=t.split(".");n[r[0]][r[1]]=e.checked}this.filter=n},informationHandler:function(t){var e=this.characterMap[t]||null;e&&(this.character=e,this.lockWindow(!0))},closeInformationHandler:function(){this.character=null,this.lockWindow(!1)}},beforeDestroy:function(){this.lockWindow(!1)},components:{Portrait:o["a"],SkillInformation:a["a"],CharacterStar:h}},g=d,v=(n("7012"),Object(u["a"])(g,r,i,!1,null,"4d94068a",null));v.options.__file="index.vue";e["default"]=v.exports},"28a5":function(t,e,n){"use strict";var r=n("aae3"),i=n("cb7c"),o=n("ebd6"),a=n("0390"),s=n("9def"),c=n("5f1b"),l=n("520a"),f=Math.min,u=[].push,p="split",h="length",d="lastIndex",g=!!function(){try{return new RegExp("x","y")}catch(t){}}();n("214f")("split",2,function(t,e,n,v){var y;return y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||"."[p](/()()/)[h]>1||""[p](/.?/)[h]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);var o,a,s,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,f+"g");while(o=l.call(v,i)){if(a=v[d],a>p&&(c.push(i.slice(p,o.index)),o[h]>1&&o.index<i[h]&&u.apply(c,o.slice(1)),s=o[0][h],p=a,c[h]>=g))break;v[d]===o.index&&v[d]++}return p===i[h]?!s&&v.test("")||c.push(""):c.push(i.slice(p)),c[h]>g?c.slice(0,g):c}:"0"[p](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(t,e){var r=v(y,t,this,e,y!==n);if(r.done)return r.value;var l=i(t),u=String(this),p=o(l,RegExp),h=l.unicode,d=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),b=new p(g?l:"^(?:"+l.source+")",d),k=void 0===e?4294967295:e>>>0;if(0===k)return[];if(0===u.length)return null===c(b,u)?[u]:[];var m=0,C=0,w=[];while(C<u.length){b.lastIndex=g?C:0;var x,_=c(b,g?u:u.slice(C));if(null===_||(x=f(s(b.lastIndex+(g?0:C)),u.length))===m)C=a(u,C,h);else{if(w.push(u.slice(m,C)),w.length===k)return w;for(var S=1;S<=_.length-1;S++)if(w.push(_[S]),w.length===k)return w;C=m=x}}return w.push(u.slice(m)),w}]})},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"456d":function(t,e,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",function(){return function(t){return i(r(t))}})},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},"5eda":function(t,e,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),a="toString",s=/./[a],c=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):s.name!=a&&c(function(){return s.call(this)})},7012:function(t,e,n){"use strict";var r=n("a6d5"),i=n.n(r);i.a},"7f7f":function(t,e,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n("9e1e")&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"85c9":function(t,e,n){t.exports=n.p+"img/btn_home_config.9ce2d092.png"},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},9093:function(t,e,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},a6d5:function(t,e,n){},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),a=n("fdef"),s="["+a+"]",c="​",l=RegExp("^"+s+s+"*"),f=RegExp(s+s+"*$"),u=function(t,e,n){var i={},s=o(function(){return!!a[t]()||c[t]()!=c}),l=i[t]=s?e(p):a[t];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},p=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(f,"")),t};t.exports=u},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),a=n("7726"),s=n("32e9"),c=n("84f2"),l=n("2b4c"),f=l("iterator"),u=l("toStringTag"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(h),g=0;g<d.length;g++){var v,y=d[g],b=h[y],k=a[y],m=k&&k.prototype;if(m&&(m[f]||s(m,f,p),m[u]||s(m,u,y),c[y]=p,b))for(v in r)m[v]||o(m,v,r[v],!0)}},b978:function(t,e,n){"use strict";var r=n("d2e5"),i=n.n(r);i.a},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),a=n("5dbc"),s=n("6a99"),c=n("79e5"),l=n("9093").f,f=n("11e9").f,u=n("86cc").f,p=n("aa77").trim,h="Number",d=r[h],g=d,v=d.prototype,y=o(n("2aeb")(v))==h,b="trim"in String.prototype,k=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,c=e.slice(2),l=0,f=c.length;l<f;l++)if(a=c.charCodeAt(l),a<48||a>i)return NaN;return parseInt(c,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(y?c(function(){v.valueOf.call(n)}):o(n)!=h)?a(new g(k(e)),n,d):k(e)};for(var m,C=n("9e1e")?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;C.length>w;w++)i(g,m=C[w])&&!i(d,m)&&u(d,m,f(g,m));d.prototype=v,v.constructor=d,n("2aba")(r,h,d)}},d2e5:function(t,e,n){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-faf607ec.01897875.js.map